---
title: 第3讲（总第13讲）数据库设计过程
categories: 
  - 数据库系统
  - 中
date: 2019-12-03 22:53:06
updated: 2019-12-04 00:00:48
abbrlink: ef76614
---
<div id='my_toc'>

- [数据库设计的四个过程](/ReadingNotes/ef76614/#数据库设计的四个过程)
- [数据库设计过程之需求分析](/ReadingNotes/ef76614/#数据库设计过程之需求分析)
    - [需求分析](/ReadingNotes/ef76614/#需求分析)
    - [相关结果性内容](/ReadingNotes/ef76614/#相关结果性内容)
        - ["源"清单](/ReadingNotes/ef76614/#"源"清单)
        - ["属性"清单](/ReadingNotes/ef76614/#"属性"清单)
        - ["属性"定义表](/ReadingNotes/ef76614/#"属性"定义表)
- [数据库设计过程之概念数据库设计](/ReadingNotes/ef76614/#数据库设计过程之概念数据库设计)
    - [(1)概念数据库设计](/ReadingNotes/ef76614/#-1-概念数据库设计)
    - [(2)概念数据库设计的两种设计思路](/ReadingNotes/ef76614/#-2-概念数据库设计的两种设计思路)
        - [先局部后全局](/ReadingNotes/ef76614/#先局部后全局)
        - [先全局后局部](/ReadingNotes/ef76614/#先全局后局部)
        - [局部E-R模式设计](/ReadingNotes/ef76614/#局部E-R模式设计)
        - [全局E-R模式设计](/ReadingNotes/ef76614/#全局E-R模式设计)
    - [(3)概念数据库设计的可能冲突](/ReadingNotes/ef76614/#-3-概念数据库设计的可能冲突)
        - [消除冲突](/ReadingNotes/ef76614/#消除冲突)
        - [全局E-R模式优化](/ReadingNotes/ef76614/#全局E-R模式优化)

</div>
<!--more-->
<script>if (navigator.platform.search('arm')==-1){document.getElementById('my_toc').style.display = 'none';}</script>

<!--end-->
# 数据库设计的四个过程
- 需求分析
  - 收集需求和理解需求,"源"
- 概念数据库设计
  - 建立概念模型,"E-R图/IDEF1x图"
- 逻辑数据库设计
  - 建立逻辑模型,"关系模式"包括全局模式和用户模式(外模式)
  - 表的定义;
  - 表中数据项的定义
  - 表中数据示例(测试用例)
- 物理数据库设计
  - 建立物理模型,包括物理数据组织等,依赖于具体的DBMS.
  - 相关命令:`Create Table`,`Create Index`

# 数据库设计过程之需求分析

## 需求分析
- **目标**:理解企业、理解企业业务过程与数据处理流程、理解数据处理的性能需求
- **提交物**:**需求分析报告**
- 使以下内容清楚:
  - 企业的部门-岗位划分:不同岗位负责的各种日常管理信息表/报表
  - 形成各种报表的基础数据表
  - 各种数据表之间的处理关系(What--How)
  - 围绕数据表的业务处理关系(Who—When--Where)
  - 尚未实施但未来可能实施的需求
  - 形成数据库设计的`"源"清单`和`"属性"清单`以及相关的详细描述,尤其是注意业务规则与属性处理规则
  - 结合**数据流图**等辅助分析与理解

## 相关结果性内容
### "源"清单
注意收集和理解:
1. 业务规则及其在表的处理方面的体现
2. 不仅报表、单据是源,企业的查询需求与管理需求等也是源

### "属性"清单
注意命名:
1. 命名要规范,并且要含义明确
2. 尤其要注意类似于"数量"这样的多含义属性,比如"计划数量""采购数量""到货数量""装配数量""完工数量""销售数量""发货数量"

### "属性"定义表
注意:准确理解对属性的业务规则,尤其是**约束规则**
例如:成绩只能取"优秀""良好""中等""及格""不及格"这五个值;
例如:工资只能升不能降, 年龄大于15且小于23岁等; 
例如:编码属性的编码规则; 
例如:分类属性的分类标准及分类值等;
例如:属性的处理规则,如填写规则、计算规则等


- 了解部门-岗位划分
- 对每一岗位,收集"源"—形成源表
- 理解每一"源"
  - 源的属性构成
  - 源的处理规则
  - 源的属性处理规则
  - 借助其他方法辅助理解,如数据流图、功能图等
- 形成并提交**需求分析报告**

# 数据库设计过程之概念数据库设计
## (1)概念数据库设计
- **目标**:进一步深入理解企业,对信息源进行抽象,**发现信息(`属性`)之间的内在本质联系**,这些本质联系可能隐藏于需求分析得到的信息源中。
- **提交物**:概念数据库设计报告
- 使以下内容清楚:
  - 各种实体的发现、划分和定义
  - 各种实体属性的发现、分析和定义
  - 各种实体联系的发现、分析和定义
  - 外部视图(模式)和概念视图(模式)的定义
- 用统一的表达方法,如`E-R`模型`/IDEF1X`模型给出描述;不仅绘制出来,而且绘制正确;

用规范的数据模型表达,有助于更好的理解需求
数据模型不仅是自己理解而且要让相关人员理解

## (2)概念数据库设计的两种设计思路
- 先局部后全局
- 先全局后局部

### 先局部后全局
1. 需求调研/用户不完整的局部需求
2. 设计外部模式或视图
3. 外部模式或视图
4. 合并视图
5. 设计概念数据库模式
6. 概念数据库模式

### 先全局后局部
1. 需求调研/用户不完整的局部需求
2. 合并局部需求
3. 设计概念数据库模式
4. 概念数据库模式
5. 设计外部模式或视图
6. 外部模式或视图

### 局部E-R模式设计
1. 需求分析的"源"
2. 确定局部结构范围
3. 实体定义
4. 联系定义
5. 属性分配
6. 全局E-R模式设计

### 全局E-R模式设计

1. 局部E-R模式
2. 确定公共实体类型
3. 合并两个局部E-R模式
4. 检查并消除**冲突**
5. 还有未合并的局部模式?如果有,则转到第3步,如果没有则继续下一步
6. 全局E-R模式优化

## (3)概念数据库设计的可能冲突
### 消除冲突
- **属性冲突**
  - 属性域的冲突:属性的类型、取值范围不同
    - 如不同学校的学号编码方式不同
  - 属性取值单位冲突
    - 如重量分别采用磅、千克
- **结构冲突**
  - 同一对象在不同应用中的抽象不同
    - 如职工在某应用中是实体,在另一应用中则抽象为属性
  - 同一实体在不同E-R图中属性组成不同
  - 实体之间的联系在不同E-R图中呈现不同的类型
- **命名冲突**
  - 同名异义:不同意义的对象具有相同的名字
  - 异名同义:同一意义的对象具有不同的名字

### 全局E-R模式优化
