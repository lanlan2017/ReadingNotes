---
title: 9.3 抽象工厂模式的应用
categories: 
  - 设计模式之禅(第2版)
  - 第二部分 真刀实枪 23种设计模式完美演绎
  - 第9章 抽象工厂模式
abbrlink: 8d6289e
date: 2019-09-21 11:02:10
updated: 2020-02-07 13:28:53
---
# 9.3 抽象工厂模式的应用 #
## 9.3.1 抽象工厂模式的优点 ##
● 封装性,每个产品的实现类不是高层模块要关心的,它要关心的是什么?是接口,是抽象,它不关心对象是如何创建出来,这由谁负责呢?工厂类,只要知道工厂类是谁,我就能创建出一个需要的对象,省时省力,优秀设计就应该如此。
● 产品族内的约束为非公开状态。例如生产男女比例的问题上,猜想女娲娘娘肯定有自己的打算,不能让女盛男衰,否则女性的优点不就体现不出来了吗?那在抽象工厂模式,就应该有这样的一个约束:每生产1个女性,就同时生产出1.2个男性,这样的生产过程对调用工厂类的高层模块来说是透明的,它不需要知道这个约束,我就是要一个黄色女性产品就可以了,具体的产品族内的约束是在工厂内实现的。
## 9.3.2 抽象工厂模式的缺点 ##
抽象工厂模式的最大缺点就是产品族扩展非常困难
抽象工厂模式的最大缺点就是产品族扩展非常困难,为什么这么说呢?我们以通用代码为例,如果要增加一个产品C,也就是说产品家族由原来的2个增加到3个,看看我们的程序有多大改动吧!抽象类`AbstractCreator`要增加一个方法`createProductC()`,然后两个实现类都要修改,想想看,这严重违反了开闭原则,而且我们一直说明抽象类和接口是一个契约。改变契约,所有与契约有关系的代码都要修改,那么这段代码叫什么?叫"有毒代码",——只要与这段代码有关系,就可能产生侵害的危险!
## 9.3.3 抽象工厂模式的使用场景 ##
抽象工厂模式的使用场景定义非常简单:一个对象族(或是一组没有任何关系的对象)都有相同的约束,则可以使用抽象工厂模式。什么意思呢?例如一个文本编辑器和一个图片处理器,都是软件实体,但是`*nix`下的文本编辑器和`Windows`下的文本编辑器虽然功能和界面都相同,但是代码实现是不同的,图片处理器也有类似情况。也就是具有了共同的约束条件:操作系统类型。于是我们可以使用抽象工厂模式,产生不同操作系统下的编辑器和图片处理器。
## 9.3.4 抽象工厂模式的注意事项 ##


