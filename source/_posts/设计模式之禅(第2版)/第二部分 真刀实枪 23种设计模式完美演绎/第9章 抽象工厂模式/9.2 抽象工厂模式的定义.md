---
title: 9.2 抽象工厂模式的定义
categories: 
  - 设计模式之禅(第2版)
  - 第二部分 真刀实枪 23种设计模式完美演绎
  - 第9章 抽象工厂模式
abbrlink: 706b4323
date: 2019-09-21 10:51:39
updated: 2020-02-07 13:28:53
---
# 9.2 抽象工厂模式的定义 #
为创建一组相关或相互依赖的对象提供一个接口,而且无须指定它们的具体类。
抽象工厂模式的通用类图
![这里有一张图片](https://image-1257720033.cos.ap-shanghai.myqcloud.com/blog/readbooknote/SheJiMoShiZhiChan2/ch9/1.png)

<center>图9-1 肤色性别坐标图</center>

产品类分析完毕了，生产的工厂类（八卦炉）该怎么改造呢？只有一个生产设备，要么生产出来的全都是男性，要么都是女性。那不行呀，这么翻天覆地的改造就是为了产生不同性别的人类。有办法了！把目前已经有的生产设备——八卦炉拆开，于是女娲就使用了“八卦复制术”，把原先的八卦炉一个变两个，并且略加修改，就成了女性八卦炉（只生产女性人种）和男性八卦炉（只生产男性人种），于是乎女娲就开始准备生产了，其类图如图9-2 所示。

这个类图虽然大，但是比较简单。Java的典型类图，一个接口，多个抽象类，然后是N 个实现类，每个人种都是一个抽象类，性别是在各个实现类中实现的。特别需要说明的是HumanFactory接口，在这个接口中定义了三个方法，分别用来生产三个不同肤色的人种，也就是我们在图9-1中的Y坐标，它的两个实现类分别是性别，也就是图9-1中的X坐标，通过X 坐标（性别）和Y坐标（肤色）唯一确定了一个生产出来的对象。我们来看看相关的实现，Human接口如代码清单9-1所示。

![image-20210928112559760](https://gitee.com/XiaoLan223/images/raw/master/Blog/Sum/20210928112559.png)
<center>图9-2 女娲重新生产人类</center>

代码清单9-1 人种接口
```java
public interface Human {
    //每个人种都有相应的颜色
    public void getColor();
    //人类会说话
    public void talk();
    //每个人都有性别
    public void getSex();
}
```
人种有三个抽象类，负责人种的抽象属性定义：肤色和语言。白色人种、黑色人种、黄色人种分别如代码清单9-2、代码清单9-3、代码清单9-4所示。

代码清单9-2 白色人种
```java
public abstract class AbstractWhiteHuman implements Human {
    
    //白色人种的皮肤颜色是白色的
    public void getColor(){
        System.out.println("白色人种的皮肤颜色是白色的！");
    }
    //白色人种讲话
    public void talk() {
        System.out.println("白色人种会说话，一般说的都是单字节。");
    }
}
```