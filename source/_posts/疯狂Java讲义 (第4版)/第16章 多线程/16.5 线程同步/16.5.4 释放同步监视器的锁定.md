---
title: 16.5.4 释放同步监视器的锁定
categories: 
  - 疯狂Java讲义 (第4版)
  - 第16章 多线程
  - 16.5 线程同步
date: 2019-07-17 17:51:00
updated: 2019-11-02 01:39:01
abbrlink: 92d64df1
---
- [16.5.4 释放同步监视器的锁定](/ReadingNotes/92d64df1/#16-5-4-释放同步监视器的锁定)
    - [什么时候释放同步监视器的锁定](/ReadingNotes/92d64df1/#什么时候释放同步监视器的锁定)
    - [什么情况下线程不会释放同步监视器](/ReadingNotes/92d64df1/#什么情况下线程不会释放同步监视器)

<!--more-->
<script src="https://cdn.bootcss.com/jquery/3.4.0/jquery.slim.min.js"></script>
<script>$(document).ready(function () {$(".post-body > ul:nth-child(1)").hide();});</script>

<!--end-->
<!--SSTStart-->
# 16.5.4 释放同步监视器的锁定 #
## 什么时候释放同步监视器的锁定 ##
任何线程进入同步代码块、同步方法之前,必须先获得对同步监视器的锁定,那么何时会释放对同步监视器的锁定呢?
程序无法显式释放对同步监视器的锁定,线程会在如下几种情况下释放对同步监视器的锁定:
- 当前线程的同步方法、同步代码块执行结束,当前线程即释放同步监视器。
- 当前线程在同步代码块、同步方法中遇到`break`、 `return`终止了该代码块、该方法的继续执行,当前线程将会释放同步监视器。
- 当前线程在同步代码块、同步方法中出现了未处理的`Error`或`Exception`,导致了该代码块、该方法异常结束时,当前线程将会释放同步监视器。
- 当前线程执行同步代码块或同步方法时,程序执行了同步监视器对象的`wait()`方法,则当前线程暂停,并释放同步监视器。

## 什么情况下线程不会释放同步监视器 ##
在如下所示的情况下,线程不会释放同步监视器。
- 线程执行同步代码块或同步方法时,程序调用`Thread.sleep()`、 `Thread.yield()`方法来暂停当前线程的执行,当前线程不会释放同步监视器
- 线程执行同步代码块时,其他线程调用了该线程的`suspend()`方法将该线程挂起,该线程不会释放同步监视器。当然,程序应该尽量避免使用`suspend()`和`resumed()`方法来控制线程。

<!--SSTStop-->

