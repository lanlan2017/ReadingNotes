---
title: 18.1.2 类的加载
categories: 
  - 疯狂Java讲义 (第4版)
  - 第18章 类加载机制与反射
  - 18.1 类的加载 连接和初始化
date: 2019-06-15 23:36:52
updated: 2019-11-02 01:39:01
abbrlink: bb1a9df
---
- [18.1.2 类的加载](/ReadingNotes/bb1a9df/#18-1-2-类的加载)
    - [类加载](/ReadingNotes/bb1a9df/#类加载)
    - [类加载器](/ReadingNotes/bb1a9df/#类加载器)
    - [类加载来源](/ReadingNotes/bb1a9df/#类加载来源)

<!--more-->
<script src="https://cdn.bootcss.com/jquery/3.4.0/jquery.slim.min.js"></script>
<script>$(document).ready(function () {$(".post-body > ul:nth-child(1)").hide();});</script>

<!--end-->
# 18.1.2 类的加载 #
## 类加载 ##
当程序主动使用某个类时,如果该类还未被加载到内存中,则系统会通过`加载`、`连接`、`初始化`三个步骤来对该类进行初始化。如果没有意外,`JVM`将会连续完成这三个步骤,所以有时也把`这三个步骤统称为类加载`或类初始化。

**类加载指的是将类的`class`文件读入内存,并为之创建一个`java.lang.Class`对象**,也就是说,当程序中使用任何类时,系统都会为之建立一个`java.lang.Class`对象。
系统中所有的类实际上也是实例,它们都是`java.lang.Class`的实例。
## 类加载器 ##
**类的加载由类加载器完成**,类加载器通常由`JVM`提供,这些类加载器也是前面所有程序运行的基础,
- `JVM`提供的这些类加载器通常被称为系统类加载器。
- 除此之外,开发者可以通过继承`ClassLoader`基类来创建自己的类加载器。

## 类加载来源 ##
通过使用不同的类加载器,可以从不同来源加载类的二进制数据,通常有如下几种来源:
- **从本地文件系统加载`class`文件**,这是前面绝大部分示例程序的类加载方式.
- **从`JAR`包加载`class`文件**,这种方式也是很常见的,前面介绍`JDBC`编程时用到的数据库驱动类就放在`JAR`文件中,`JVM`可以从`JAR`文件中直接加载该`class`文件。
- 通过网络加载`class`文件。
- 把一个`Java`源文件动态编译,并执行加载。

类加载器通常无须等到"首次使用"该类时才加载该类,**`Java`虚拟机规范允许系统预先加载某些类**。

